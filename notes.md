## Immediate TODOs

* In Latin, the wiktionary convention is to not include macrons in the page title for a term (thus the wiktextract `word` field), see e.g. "praemonstrata". However, these are generally present in `forms[0].form` when `forms[0].tags[0]` == `canonical` (However, the canonical form is not guaranteed to be the first listed. To be completely correct, need to search for canonical tag in while loop (However, forms list is often quite long, and e.g. Latin seems always to have canonical first... might try hacky approach of just checking `forms[0]` to start...). Also, `forms` itself is an optional field, (at least in PIE root entries)). We may want to retain the full diacritic-including representation as a field in each Item. 
    * In Latin entries, terms listed in ety's generally retain macrons, but link to a page whose title does not (and thus the wiktextract `word` field will not). Therefore, matching ety terms to Items will be screwed up unless we either remove diacritics from ety terms before attempting a link-up, or attempt to match ety term to Items' full diacritic-including representations. The former option however can be problematic when there is variable representation in an ety, see e.g. https://en.wiktionary.org/wiki/praemonstratus#Latin. Here "praemonstrō" is given in the ety, which links to a page with title "praemonstro", but this actually has the full diacritic-including form of "praemōnstrō". Instead, let's try a by-language approach: for Latin, simply apply a function generates a new macron-less string for any ety term, and try the link-up with that.
    * Different but similar considerations may apply for other languages, i.e. other diacritic discrepancies etc. 
* A number of affix templates (but not the `affix` template itself, notably) modify one or more of their term arguments when expanded, so that the raw text of the term argument is not exactly equivalent to the text of the relevant linked wiktionary entry. So if we were to naively follow the exact raw text in the template, we would end up in the wrong spot, if anywhere. We need to identify all templates that do any modification to any of their template term arguments, and replicate this modification in wety so that the correct term entries are linked. Here is a provisional list:
    * [Prefix](https://en.wiktionary.org/wiki/Template:prefix): `{{prefix|en|un|do}}` -> `un-` + `do`
    * [Suffix](https://en.wiktionary.org/wiki/Template:suffix): `{{suffix|en|do|ing}}` -> `do` + `-ing`
    * [Circumfix](https://en.wiktionary.org/wiki/Template:circumfix): `{{circumfix|nl|ver|giftig|en}}` -> `ver-` + `giftig` + `-en`
    * [Infix](https://en.wiktionary.org/wiki/Template:infix): `{{infix|en|house|iz}}` -> `house` + `-iz-` (for entry `hizouse`)
    * [Confix](https://en.wiktionary.org/wiki/Template:confix): `{{confix|en|neuro|genic}}` -> `neuro-` + `-genic`; `{{confix|en|be|dew|ed}}` -> `be-` + `dew` + `-ed`. That is, the first positional term arg is treated as a prefix, and the last positional term arg is treated as a suffix.

* Adding tracking of ety_nums and gloss_nums (so that informative unique item id can be generated) added about 1GB to RAM usage. If RAM becomes an issue, could try Vec implementation rather than the ugly tuples being used currently. Will be slower but should save RAM which is more of a concern.

## If ever out of immediate TODOs in this document, remember to ctrl+f "$" in project to find notes pointing out problems/todos.

## If in the future I attempt to process the entire etymology (i.e. all templates and text)
* Need to handle when ety entries have multiple ety's for some reason, e.g. https://en.wiktionary.org/wiki/hap#Etymology_1. A simple approach might be to only process the first paragraph, as often the different ety's are listed in different paragraphs. Unfortunately, the templates given in wiktextract data are not separated out into paragraphs, so this would involve processing a combination of the wiktextract ety text (which does preserve the newlines) and the templates list. This can be done by using the expansions given for each template and looking for them in the ety text. In case a template expansion appears multiple times in the ety text in different paragraphs, can compare the order of the templates in the template list with the order of expansions in the ety text to try to infer which paragraph the template appeared in.
* When processing the ety templates, deal with case where there is a valid chain of derivs but there is a term amid it that doesn't have an item entry, while a subsequent term in the chain does.
* Some etymologies on Wiktionary (e.g. https://en.wiktionary.org/wiki/astrology) have {{der}}-type chains followed by a template in this category which recapitulates the etymology through surface analysis. Simply treating all templates the same and chugging through the chain will result in a lot of bad ety connections. A simple provisional solution might be to only take the first compound-type template (with "1" parameter being the language of the item term), if one is present, discarding everything else. This will lose the actual historical etymology information if there is any (i.e. the derived-type chain), but might lead to most reliably far-reaching derivation chains.